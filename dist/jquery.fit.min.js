(function(e){e.fn.fit=function(t){t=e.extend({},e.fn.fit.defaults,t);var n=this.length,r=0,i=function(e,i){var s=e.width(),o=e.height(),u=i.width(),a=i.height(),f=0,l=0;t.resizeParent&&u>s?u=s:f=(u-s)/2,t.resizeParent&&a>o?a=o:l=(a-o)/2,e.css({position:"relative",left:f,top:l}),i.css({visibility:"visible"}),t.resizeParent&&i.css({width:u,height:a}),e.trigger("fit"),n==++r&&e.trigger("end")};return this.each(function(){var t=e(this),n=t.parent();n.css({overflow:"hidden",visibility:"hidden"}),t.bind("load",function(){i(t,n)})})},e.fn.fit.defaults={resizeParent:!1}})(window.jQuery||window.Zepto)